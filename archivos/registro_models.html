<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SeduxaModels | Registro Modelos</title>

<style>
:root{
  --lila:#b76cff;
  --fucsia:#ff2aa6;
  --soft:rgba(183,108,255,.55);
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  background:#000;
  color:var(--lila);
  font-family:'Playfair Display', serif;
}
.wrap{max-width:420px;margin:auto;padding:22px 16px 40px}

h1{
  text-align:center;
  font-size:24px;
  letter-spacing:3px;
  margin-bottom:6px;
  background:linear-gradient(90deg,var(--lila),var(--fucsia),var(--lila));
  background-size:220% 100%;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:shine 3s linear infinite;
}
@keyframes shine{to{background-position:220%}}
.sub{
  text-align:center;
  font-size:14px;
  opacity:.75;
  margin-bottom:24px;
}

label{display:block;margin:18px 0 6px;font-size:14px}

input, select{
  width:100%;
  padding:14px;
  background:#000;
  border:1px solid var(--lila);
  border-radius:12px;
  color:var(--lila);
  font-size:16px;
  outline:none;
}
input::placeholder{color:var(--soft)}
input:disabled, select:disabled{opacity:.35}
select option{background:#000;color:var(--lila)}

.phone-row{display:flex;gap:10px}
.phone-code{flex:0 0 55%}
.phone-num{flex:1}

.phone-trigger{
  padding:14px;
  border:1px solid var(--lila);
  border-radius:12px;
  cursor:pointer;
  display:flex;
  justify-content:space-between;
  align-items:center;
  user-select:none;
  gap:10px;
}
.phone-trigger span:first-child{
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}
.phone-trigger.disabled{opacity:.35;pointer-events:none}

.btn-main{
  width:100%;
  padding:16px;
  margin-top:22px;
  border:none;
  border-radius:30px;
  font-size:16px;
  cursor:pointer;
  background:linear-gradient(90deg,var(--lila),var(--fucsia));
  color:#000;
}
.btn-main:disabled{opacity:.35;pointer-events:none}

/* ===== SELFIE BONITO (sin input feo) ===== */
.selfie-box{
  border:1px dashed var(--lila);
  border-radius:12px;
  padding:14px;
}
.selfie-title{
  font-size:14px;
  color:var(--fucsia);
  margin-bottom:10px;
}
.file-btn{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:1px solid var(--lila);
  background:#000;
  color:var(--lila);
  cursor:pointer;
  font-size:15px;
}
.file-btn:disabled{opacity:.35;pointer-events:none}
.file-btn.ok{
  border-color:#2b6b2b;
  color:#b7ffcf;
}
.file-hint{
  margin-top:10px;
  font-size:12px;
  opacity:.7;
}
.file-input{
  position:absolute;
  left:-9999px;
  width:1px;height:1px;opacity:0;
}

/* ===== CHECKS LIMPIOS ===== */
.checks{margin-top:22px}
.checks label{
  display:flex;
  align-items:flex-start;
  gap:12px;
  margin-bottom:14px;
  font-size:14px;
  line-height:1.35;
}
.checks input{
  width:18px;height:18px;
  margin-top:2px;
  accent-color: var(--fucsia);
}

/* ===== MODAL ===== */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.85);
  padding:16px;
  z-index:9999;
}
.modal.open{display:block}
.modal-box{
  max-width:420px;
  margin:auto;
  background:#000;
  border:1px solid var(--lila);
  border-radius:12px;
  overflow:hidden;
}
.modal-head{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px;
  border-bottom:1px solid #222;
}
.modal-head strong{color:var(--fucsia);letter-spacing:1px;font-size:13px}
.modal-close{
  border:1px solid var(--lila);
  background:#000;
  color:var(--lila);
  border-radius:10px;
  padding:8px 10px;
  cursor:pointer;
  font-size:13px;
}
.modal-body{padding:12px}
.search{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid var(--lila);
  background:#000;
  color:var(--lila);
  margin-bottom:10px;
}
.country-list{
  border:1px solid var(--lila);
  border-radius:12px;
  overflow:auto;
  max-height:340px;
}
.country-item{
  padding:12px;
  border-bottom:1px solid #222;
  cursor:pointer;
  display:flex;
  justify-content:space-between;
  gap:10px;
}
.country-item:hover{background:#111}
.country-item .name{color:var(--fucsia)}
.country-item .code{color:var(--lila);white-space:nowrap}
.country-empty{padding:14px;text-align:center;opacity:.7}

/* mensajes */
.msg{
  margin-top:14px;
  padding:12px;
  border:1px solid #222;
  border-radius:12px;
  font-size:14px;
  display:none;
}
.msg.show{display:block}
.msg.err{border-color:#6b2b2b;color:#ffb3b3}
.msg.ok{border-color:#2b6b2b;color:#b7ffcf}

footer{
  margin-top:28px;
  text-align:center;
  font-size:12px;
  opacity:.6;
}
</style>
</head>

<body>
<div class="wrap">

<h1>REGISTRO MODELOS</h1>
<div class="sub">(Datos reales para verificación)</div>

<form id="form" autocomplete="off" autocapitalize="words" spellcheck="false">
  <!-- ✅ TRAMPA anti Google Password Manager (para que NO joda el primer campo) -->
  <input type="text" name="username" autocomplete="username"
         style="position:absolute;left:-9999px;top:-9999px;height:1px;width:1px;opacity:0;pointer-events:none" tabindex="-1" aria-hidden="true">
  <input type="password" name="password" autocomplete="current-password"
         style="position:absolute;left:-9999px;top:-9999px;height:1px;width:1px;opacity:0;pointer-events:none" tabindex="-1" aria-hidden="true">

  <label>Nombre y Apellidos *</label>
  <!-- ✅ NO debe parecer login: autocomplete off + name propio -->
  <input id="realName" name="realName" type="text" inputmode="text" autocomplete="off" autocapitalize="words" placeholder="Nombre y Apellidos">

  <label>Nombre que usarás *</label>
  <input id="nick" name="nick" type="text" inputmode="text" autocomplete="off" placeholder="Sujeto a disponibilidad" disabled>

  <label>Edad (18 a 50) *</label>
  <select id="age" disabled>
    <option value="">Selecciona</option>
  </select>

  <label>WhatsApp *</label>
  <div class="phone-row">
    <div class="phone-code">
      <div id="phoneTrigger" class="phone-trigger disabled">
        <span id="phoneText">Código país</span><span>▼</span>
      </div>
      <input type="hidden" id="phoneCode" value="">
    </div>
    <div class="phone-num">
      <!-- ✅ TECLADO NUMÉRICO -->
      <input
        id="phoneNumber"
        name="phoneNumber"
        type="tel"
        inputmode="numeric"
        autocomplete="off"
        pattern="[0-9]*"
        placeholder="Número telefónico"
        disabled
      >
    </div>
  </div>

  <label>Correo electrónico *</label>
  <input id="email" name="email" type="email" inputmode="email" autocomplete="off" placeholder="correo@ejemplo.com" disabled>

  <label>Contraseña *</label>
  <input id="pass" name="newPassword" type="password" autocomplete="new-password" placeholder="••••••••" disabled>

  <label>Foto selfie *</label>
  <div class="selfie-box" style="position:relative">
    <div class="selfie-title">Selfie (cámara frontal)</div>

    <button id="btnSelfie" class="file-btn" type="button" disabled>Tomar selfie</button>
    <input id="selfie" class="file-input" type="file" accept="image/*" capture="user" disabled>

    <div id="selfieHint" class="file-hint">Se solicitará permiso de cámara.</div>
  </div>

  <div class="checks">
    <label><input type="checkbox" class="rule" disabled> Soy Consciente que está Prohibido Mostrar o Escuchar a Menores dentro de los Shows.</label>
    <label><input type="checkbox" class="rule" disabled> Soy Consciente que está Prohibido Mostrar o Manipular Cualquier Tipo de Armas.</label>
    <label><input type="checkbox" class="rule" disabled> Soy Consciente que está Totalmente Prohibido Mostrar o Consumir drogas en el Show.</label>
    <label><input type="checkbox" class="rule" disabled> Soy Consciente que está Totalmente Prohibido Compartir cualquier forma de dato de contacto/Redes/Cuentas/etc.</label>
    <label><input type="checkbox" id="accept" disabled> Acepto las Normas y Sanciones de la Página desde este momento.</label>
  </div>

  <button id="submit" class="btn-main" disabled type="submit">ENVIAR REGISTRO</button>

  <div id="msg" class="msg"></div>

  <footer>SEDUXAMODELS ® — 2026</footer>

</form>
</div>

<!-- MODAL PAÍS -->
<div id="modal" class="modal">
  <div class="modal-box">
    <div class="modal-head">
      <strong>CÓDIGO DE PAÍS</strong>
      <button type="button" id="close" class="modal-close">Cerrar</button>
    </div>
    <div class="modal-body">
      <input id="search" class="search" placeholder="Buscar país o +código" autocomplete="off">
      <div id="list" class="country-list"></div>
    </div>
  </div>
</div>

<script>
const realName=document.getElementById('realName');
const nick=document.getElementById('nick');
const age=document.getElementById('age');

const phoneTrigger=document.getElementById('phoneTrigger');
const phoneText=document.getElementById('phoneText');
const phoneCode=document.getElementById('phoneCode');
const phoneNumber=document.getElementById('phoneNumber');

const email=document.getElementById('email');
const pass=document.getElementById('pass');

const btnSelfie=document.getElementById('btnSelfie');
const selfie=document.getElementById('selfie');
const selfieHint=document.getElementById('selfieHint');

const rules=document.querySelectorAll('.rule');
const accept=document.getElementById('accept');
const submit=document.getElementById('submit');

const modal=document.getElementById('modal');
const list=document.getElementById('list');
const close=document.getElementById('close');
const search=document.getElementById('search');

const msg=document.getElementById('msg');

let countries=[];

const norm=s=>(s||'').toString().toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g,'').trim();
function showMsg(t,kind){
  msg.textContent=t||'';
  msg.className='msg show ' + (kind||'');
}
function hideMsg(){
  msg.textContent='';
  msg.className='msg';
}

/* ===== EDAD 18..50 ===== */
for(let i=18;i<=50;i++){
  const o=document.createElement('option');
  o.value=String(i);
  o.textContent=String(i);
  age.appendChild(o);
}

/* ===== FLUJO SECUENCIAL ===== */
realName.addEventListener('input', ()=>{
  const ok = realName.value.trim().length>=3;
  nick.disabled = !ok;
  if(!ok){ nick.value=''; }
});

nick.addEventListener('input', ()=>{
  const ok = nick.value.trim().length>=3;
  age.disabled = !ok;
  if(!ok){ age.value=''; phoneTrigger.classList.add('disabled'); }
});

age.addEventListener('change', ()=>{
  const ok = age.value !== '';
  if(ok) phoneTrigger.classList.remove('disabled');
  else phoneTrigger.classList.add('disabled');
});

/* ===== JSON robusto (3 rutas) ===== */
async function loadPhoneCodes(){
  const paths = ['/js/phone-codes.json', './js/phone-codes.json', 'js/phone-codes.json'];
  let lastErr = null;

  for(const p of paths){
    try{
      const r = await fetch(p, { cache:'no-store' });
      if(!r.ok) throw new Error('HTTP ' + r.status + ' (' + p + ')');
      const d = await r.json();
      if(!Array.isArray(d)) throw new Error('JSON inválido (' + p + ')');
      return d;
    }catch(e){
      lastErr = e;
    }
  }
  throw lastErr || new Error('No se pudo cargar phone-codes.json');
}

function renderCountries(q){
  list.innerHTML='';
  const raw=(q||'').trim();
  const Q=norm(raw);
  const Qcode = raw.replace(/\s/g,'').replace('+','');

  const res = countries.filter(c=>{
    const cname = norm(c.country || c.name || '');
    const ccodeRaw = (c.code || c.dial_code || '').toString().trim();
    const ccode = ccodeRaw.replace('+','');
    if(!Q && !Qcode) return true;
    if(Q && cname.startsWith(Q)) return true;
    if(Qcode && ccode.startsWith(Qcode)) return true;
    return false;
  });

  if(res.length===0){
    const d=document.createElement('div');
    d.className='country-empty';
    d.textContent='Sin resultados';
    list.appendChild(d);
    return;
  }

  res.forEach(c=>{
    const country = (c.country || c.name || '').toString().trim();
    const code = (c.code || c.dial_code || '').toString().trim();

    const row=document.createElement('div');
    row.className='country-item';
    row.innerHTML=`<span class="name">${country}</span><span class="code">${code}</span>`;
    row.onclick=()=>{
      phoneText.textContent = `${country} ${code}`;
      phoneCode.value = code;

      phoneNumber.disabled = false;
      phoneNumber.readOnly = false;
      phoneNumber.removeAttribute('readonly');
      phoneNumber.focus();

      modal.classList.remove('open');
    };
    list.appendChild(row);
  });
}

(async ()=>{
  try{
    countries = await loadPhoneCodes();
  }catch(e){
    showMsg('No carga phone-codes.json. Revisa ruta /js/phone-codes.json (o ./js/...).', 'err');
  }
})();

/* ===== MODAL ===== */
phoneTrigger.addEventListener('click', ()=>{
  if(phoneTrigger.classList.contains('disabled')) return;
  if(!countries.length){
    showMsg('No hay lista de países (phone-codes.json no cargó).', 'err');
    return;
  }
  modal.classList.add('open');
  search.value='';
  renderCountries('');
  setTimeout(()=>search.focus(), 50);
});
close.addEventListener('click', ()=> modal.classList.remove('open'));
modal.addEventListener('click', (e)=>{ if(e.target===modal) modal.classList.remove('open'); });
search.addEventListener('input', ()=> renderCountries(search.value));

/* ===== TEL -> EMAIL ===== */
phoneNumber.addEventListener('input', ()=>{
  phoneNumber.value = phoneNumber.value.replace(/\D/g,'').slice(0,15);
  const ok = phoneCode.value && phoneNumber.value.length>=6;
  email.disabled = !ok;
  if(!ok){ email.value=''; pass.value=''; pass.disabled=true; }
});

/* ===== EMAIL -> PASS ===== */
email.addEventListener('input', ()=>{
  const ok = /.+@.+\..+/.test(email.value);
  pass.disabled = !ok;
  if(!ok){ pass.value=''; }
});

/* ===== PASS -> SELFIE ===== */
pass.addEventListener('input', ()=>{
  const ok = pass.value.length>=6;
  btnSelfie.disabled = !ok;
  selfie.disabled = !ok;
  if(!ok){
    selfie.value='';
    btnSelfie.classList.remove('ok');
    btnSelfie.textContent='Tomar selfie';
    selfieHint.textContent='Se solicitará permiso de cámara.';
    rules.forEach(r=>{r.checked=false;r.disabled=true;});
    accept.checked=false; accept.disabled=true;
    submit.disabled=true;
  }
});

/* ===== SELFIE BONITO ===== */
btnSelfie.addEventListener('click', ()=>{
  if(btnSelfie.disabled) return;
  selfie.click();
});
selfie.addEventListener('change', ()=>{
  const ok = selfie.files && selfie.files.length===1;
  if(ok){
    btnSelfie.textContent='Cargado ✅';
    btnSelfie.classList.add('ok');
    selfieHint.textContent = (selfie.files[0].name || 'Selfie cargada');

    rules.forEach(r=>r.disabled=false);
    accept.disabled=false;
  }else{
    btnSelfie.textContent='Tomar selfie';
    btnSelfie.classList.remove('ok');
  }
});

/* ===== CHECKS -> BOTÓN ===== */
document.querySelectorAll('.checks input').forEach(c=>{
  c.addEventListener('change', ()=>{
    const allChecked=[...rules, accept].every(i=>i.checked);
    submit.disabled = !allChecked;
  });
});

/* ===== SUBMIT (demo) ===== */
document.getElementById('form').addEventListener('submit', (e)=>{
  e.preventDefault();
  if(submit.disabled) return;
  hideMsg();
  showMsg('Enviado para revisión.', 'ok');
});
</script>

</body>
</html>